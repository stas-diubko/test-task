"use strict";jQuery(function(e){e("form").on("submit",function(s){if(s.preventDefault(),function(){e(".text-error").remove();var s=e(".user-name");if(s.val().length<3){var t=!0;s.after('<span class="text-error for-name">Имя пользователя должно быть больше 3 символов</span>'),e(".for-name").css({top:s.position().top+s.outerHeight()+2}),s.css("border","1px solid red")}e(".user-name").toggleClass("error",t);var r=e(".user-secondname");if(r.val().length<3){var a=!0;r.after('<span class="text-error for-secondname">Логин должен быть больше 3 символов</span>'),e(".for-secondname").css({top:r.position().top+r.outerHeight()+2}),r.css("border","1px solid red")}e(".user-secondname").toggleClass("error",a);var l=e(".user-email"),i=!l.val();i?(l.after('<span class="text-error for-email">Поле e-mail обязательно к заполнению</span>'),e(".for-email").css({top:l.position().top+l.outerHeight()+2}),l.css("border","1px solid red")):/^\w+([\.-]?\w+)*@(((([a-z0-9]{2,})|([a-z0-9][-][a-z0-9]+))[\.][a-z0-9])|([a-z0-9]+[-]?))+[a-z0-9]+\.([a-z]{2}|(com|net|org|edu|int|mil|gov|arpa|biz|aero|name|coop|info|pro|museum))$/i.test(l.val())||(i=!0,l.after('<span class="text-error for-email">Вы указали недопустимый e-mail</span>'),e(".for-email").css({top:l.position().top+l.outerHeight()+2}),l.css("border","1px solid red"));e(".user-email").toggleClass("error",i);var n=e(".pass"),o=!n.val();if(n.val().length<6){var o=!0;n.after('<span class="text-error for-pass">Пароль должен быть не менее 6 символов</span>'),e(".for-pass").css({top:n.position().top+n.outerHeight()+2})}return e(".pass").toggleClass("error",o),t||a||i||o}())return!1;e.post("http://codeit.ai/codeitCandidates/serverFrontendTest/user/registration",{name:e(".user-name").val(),secondname:e(".user-secondname").val(),email:e(".user-email").val(),gender:e(".user-gender").val(),pass:e(".pass").val()},function(e,s){"OK"===e.status?document.location.href="companies.html":alert(e.message)})})}),$.get("http://codeit.ai/codeitCandidates/serverFrontendTest/company/getList",function(e){if(console.log(e),0==e.list.length)$(".list-wrap ul").append("<div>list is empty</div>"),$(".companies-count").html("<div>0</div>");else for(let s=0;s<e.list.length;s++)$(".list-wrap ul").append("<li>"+e.list[s].name+"</li>"),$(".companies-count").html(e.list.length);"OK"===e.status&&($(".floatingCirclesG").hide(),$(".content").css("display","block")),$(".list-wrap li").on("click",function(s){$(".list-wrap ul").children("li").css("background-color","white"),$(this).css("background-color","lightblue"),$(".partners").css("display","block"),$(".wrap-partners ul").empty();let t=$(this).html();for(let s=0;s<e.list.length;s++)for(let r in e.list[s])if(e.list[s][r]===t){e.list[s].partners.sort(function(e,s){return e.value<s.value?1:e.value>s.value?-1:0});for(let t=0;t<e.list[s].partners.length;t++)$(".wrap-partners ul").append('<li class="work">'+e.list[s].partners[t].name+"<span>"+e.list[s].partners[t].value+"%</span></li>"),$(".close").on("click",function(e){$(".partners").css("display","none"),$(".list-wrap ul").children("li").css("background-color","white")});$(".sort").on("click",function(){$(".wrap-partners ul").empty(),e.list[s].partners.reverse();for(let t=0;t<e.list[s].partners.length;t++)$(".wrap-partners ul").append('<li class="work">'+e.list[s].partners[t].name+"<span>"+e.list[s].partners[t].value+"%</span></li>"),$(".close").on("click",function(e){$(".partners").css("display","none"),$(".list-wrap ul").children("li").css("background-color","white")})})}})}),$.get("http://codeit.ai/codeitCandidates/serverFrontendTest/news/getList",function(e){console.log(e);for(let s=0;s<e.list.length;s++){let t=new Date(1e3*e.list[s].date),r=t.getDate()+"."+(t.getMonth()+1)+"."+t.getFullYear();$(".news-wrapper").prepend('<div class="news-wrap"><h3>News</h3><div class="row"><div class="col-sm news-col1"><img src="'+e.list[s].img+'alt="picture"><h4 class="news-name">'+e.list[s].author+'</h4><div class="news-date">'+r+'</div></div><div class="col-sm news-col2"><h4><a href="https://'+e.list[s].link+'">Title</a></h4><p>'+e.list[s].description+"</p></div></div></div>")}});